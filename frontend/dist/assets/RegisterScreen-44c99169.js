import{r as a,u as z,a as B,d as J,f as K,c as U,j as e,e as W,L as X,Q as g,s as Y}from"./index-11072bc1.js";import{v as C,c as I,d as L,e as M,f as V,G as Z,b as ee,j as se}from"./validation-53fd90f4.js";const re=()=>{const[d,k]=a.useState(""),[m,G]=a.useState(""),[u,A]=a.useState(""),[l,_]=a.useState(""),[x,D]=a.useState(""),[p,h]=a.useState(""),[w,f]=a.useState(""),[v,b]=a.useState(""),[j,N]=a.useState(""),[y,E]=a.useState(""),T="https://www.nahalasm.shop/websiteImages/registerImage.png",n=z(),q=B(),{userInfo:S}=J(s=>s.userAuth),[H,{isLoading:O}]=K(),[F]=U();a.useEffect(()=>{S&&n("/")},[n,S]);const Q=async s=>{var R;s.preventDefault();const r=C(d);h(r);const t=I(m);f(t);const i=L(u);b(i);const c=M(l);N(c);const P=V(l,x);if(E(P),!r&&!t&&!i&&!c&&!P)try{const o=await H({name:d,mobile:u,email:m,password:l}).unwrap();o.message?n("/otpVerify"):g.error(o.error.data.message)}catch(o){g.error(((R=o==null?void 0:o.data)==null?void 0:R.message)||o.error)}},$=async s=>{var r;try{const t=s.given_name,i=s.email,c=await F({name:t,email:i}).unwrap();q(Y({...c})),n("/")}catch(t){g.error(((r=t==null?void 0:t.data)==null?void 0:r.message)||t.error)}};return e.jsx("div",{className:"min-h-screen py-20",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row w-10/12 lg:w-11/12 bg-white rounded-xl mx-auto shadow-lg overflow-hidden",children:[e.jsx("div",{className:"w-full lg:w-1/2 flex flex-col items-centre justify-centre p-12 bg-no-repeat bg-center",style:{backgroundImage:`url(${T})`}}),e.jsxs("div",{className:"w-full lg:w-1/2 py-10 px-12",children:[e.jsx("h2",{className:"text-3xl mb-3",children:"Register"}),e.jsx("p",{className:"mb-3",children:"Create your account. It is free and take a minute"}),e.jsxs("form",{onSubmit:Q,children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:"Name",className:"border border-grey-400 py-1 px-2 w-full",value:d,onChange:s=>{k(s.target.value),h(C(s.target.value))}}),p&&e.jsx("p",{className:"text-red-500",children:p})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("input",{type:"text",placeholder:"Email",className:"border border-grey-400 py-1 px-2 w-full",value:m,onChange:s=>{G(s.target.value),f(I(s.target.value))}}),w&&e.jsx("p",{className:"text-red-500",children:w})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("input",{type:"text",placeholder:"Mobile",className:"border border-grey-400 py-1 px-2 w-full",value:u,onChange:s=>{A(s.target.value),b(L(s.target.value))}}),v&&e.jsx("p",{className:"text-red-500",children:v})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("input",{type:"password",placeholder:"Password",className:"border border-grey-400 py-1 px-2 w-full",value:l,onChange:s=>{_(s.target.value),N(M(s.target.value))}}),j&&e.jsx("p",{className:"text-red-500",children:j})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("input",{type:"password",placeholder:"Confirm Password",className:"border border-grey-400 py-1 px-2 w-full",value:x,onChange:s=>{D(s.target.value),E(V(l,s.target.value))}}),y&&e.jsx("p",{className:"text-red-500",children:y})]}),O&&e.jsx(W,{}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{className:"w-full py-3 text-center text-white",type:"submit",style:{backgroundColor:"#ffbe55"},children:"Send OTP"})}),e.jsx("div",{className:"mt-4 mb-3",children:e.jsxs("span",{children:["Already have an account? ",e.jsx(X,{to:"/login",className:"font-semibold text-blue-500",children:"Login"})]})}),e.jsx(Z,{clientId:"915783098784-vqrg4q9jh52kbfrh7u085shb3u4tqk45.apps.googleusercontent.com",children:e.jsx(ee,{onSuccess:s=>{const r=se(s.credential);console.log(r),$(r)},onError:()=>{console.log("Login Failed")}})})]})]})]})})})};export{re as default};
