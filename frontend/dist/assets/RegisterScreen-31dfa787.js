import{r,u as L,a as N,d as R,aJ as A,j as e,B as s,l as E,e as S,v as b,L as I,Q as u,aI as P}from"./index-d3228293.js";import{F}from"./FormContainer-488aae9e.js";import{R as G}from"./Row-96a84e49.js";const k=()=>{const[i,h]=r.useState(""),[l,x]=r.useState(""),[o,g]=r.useState(""),[d,j]=r.useState(""),[c,y]=r.useState(""),n=L(),C=N(),{adminInfo:m}=R(a=>a.adminAuth),[w,{isLoading:v}]=A();r.useEffect(()=>{m&&n("/admin")},[n,m]);const f=async a=>{var p;if(a.preventDefault(),o!==d)u.error("Passwords do not match.");else try{const t=await w({name:i,email:l,password:o,adminRegistrationKey:c}).unwrap();C(P({...t})),n("/admin")}catch(t){u.error(((p=t==null?void 0:t.data)==null?void 0:p.message)||(t==null?void 0:t.error))}};return e.jsxs(F,{children:[e.jsx("h1",{children:"Admin Registration"}),e.jsxs(s,{onSubmit:f,children:[e.jsxs(s.Group,{className:"my-2",controlId:"name",children:[e.jsx(s.Label,{children:"Name"}),e.jsx(s.Control,{type:"text",placeholder:"Enter name here...",value:i,onChange:a=>h(a.target.value)})]}),e.jsxs(s.Group,{className:"my-2",controlId:"email",children:[e.jsx(s.Label,{children:"Email Address"}),e.jsx(s.Control,{type:"email",placeholder:"Enter email",value:l,onChange:a=>x(a.target.value)})]}),e.jsxs(s.Group,{className:"my-2",controlId:"password",children:[e.jsx(s.Label,{children:"Password"}),e.jsx(s.Control,{type:"password",placeholder:"Enter password",value:o,onChange:a=>g(a.target.value)})]}),e.jsxs(s.Group,{className:"my-2",controlId:"confirmPassword",children:[e.jsx(s.Label,{children:"Confirm Password"}),e.jsx(s.Control,{type:"password",placeholder:"Re-enter password",value:d,onChange:a=>j(a.target.value)})]}),e.jsxs(s.Group,{className:"my-2",controlId:"registrationCode",children:[e.jsx(s.Label,{children:"Admin Registration Code"}),e.jsx(s.Control,{type:"password",placeholder:"Enter admin registration code",value:c,onChange:a=>y(a.target.value)})]}),e.jsx(E,{type:"submit",variant:"primary",className:"mt-3",children:" Sign Up "})]}),v&&e.jsxs(e.Fragment,{children:[" ",e.jsx(S,{})," "]}),e.jsx(G,{className:"py-3",children:e.jsxs(b,{children:[" Already have an account? ",e.jsx(I,{to:"/admin/login",children:"Login"})]})})]})};export{k as default};
